## 开始

`> python`进入python环境开始写程序

`>>> exit()`退出环境

`> python xxx.py`命令行执行python源文件

### pip命令

`pip list` 列出匹配管理的包

`pip install 包名` 安装

`pip uninstall 包名` 卸载

`pip -V`或`pip -version` 查看版本

### 初始笔记

1. `print()`函数中，参数end代表换行符，可以改变，如：`print(a, end=',')`，表示不换行，且用逗号替换
2. `print("{:.2f}".format(area))`表示area保留两位小数输出，`{}`为占位符，`format()`函数中的参数为需要格式化的对象
3. 数组相关：

```python
print("{}同学".format(name)) # 按格式输出完整名字
print("{}哥哥".format(name[0])) # 输出第一个字符
print("{}弟弟".format(name[1:])) # 从第二个字符开始输出直至末尾
```

4. 日期相关：

```python
from datetime import datetime
now = datetime.now() # 获得当前日期和时间信息
print(now)
now.strftime("%x") # 输出其中的日期部分
now.strftime("%X") # 输出其中的时间部分
```

## 实例解析

```python
TempStr = input("请输入带有符号的温度值：")
if TempStr[-1] in ['F','f']:
    C = (eval(TempStr[0:-1]) - 32) / 1.8
    print("转换后的温度是{:.2f}C".format(C))
elif TempStr[-1] in ['C','c']:
    F = 1.8 * eval(TempStr[0:-1]) + 32
    print("转换后的温度是{:.2f}F".format(F))
else:
    print("输入格式错误")
```

###  1 程序格式框架

Python采用“缩进”来表明程序的格式框架，表明代码之间的层次关系。建议采用4个空格的方式书写代码

注意：并不是所有代码都可以通过缩进包含其他代码，一般来说，判断、循环、函数、类等语法形式能够通过缩进包含一批代码，进而表达对应的语义，但是，如print()这样的简单语句不表达包含关系，不能使用缩进

### 2 注释

Python语言的两种注释方法：单行注释和多行注释，单行注释以#开头，多行注释以'''（三个单引号）开头和结尾

```python
# 单行注释

'''
多行注释1
多行注释2
'''
```

注释的用途：

1. 标明作者和版权信息
2. 解释代码原理或用途

程序中的注释一般采用单行注释，标记在关键代码同行。而对于一段关键代码，可以在其附近采用一个多行注释或多个单行注释给出代码的设计原理等信息

1. 辅助程序调试

### 3 命名与保留字

实例1.1中，`TempStr`是一个接收输入字符串的变量名字

Python允许采用大小写字母、数字、下划线和汉字等字符及其组合给变量命名，但名字的首字符不能是数字，中间不能出现空格，长度没有限制。不允许使用保留字作为变量名

Python 3 的33个保留字列表

| False    | def     | if       | raise  |
| -------- | ------- | -------- | ------ |
| None     | del     | import   | return |
| True     | elif    | in       | try    |
| and      | else    | is       | while  |
| as       | except  | lambda   | with   |
| assert   | finally | nonlocal | with   |
| break    | for     | not      | yield  |
| class    | from    | or       |        |
| continue | global  | pass     |        |

### 4 字符串

Python中，字符串是用两个引号" "或单引号' '括起来的零个或多个字符

字符串包括两种序号体系：正向递增序号和反向递减序号。如果字符串长度为L，正向递增以最左侧字符序号为0，向右依次递增，最右侧字符序号为L-1；反向递增以最右侧字符序号为-1，向左依次递减，做左侧字符序号为-L。这两种索引字符的方法可以同时使用。实例1.1中`TempStr[-1]`表示字符串TempStr的最后一个字符

![img](https://cdn.nlark.com/yuque/0/2022/jpeg/25941432/1672370915917-f02eb8bd-68f7-4401-bb46-ad1d008eb03b.jpeg)

Python字符串也提供区间访问方式，采用[N: M]格式，表示字符串中从N到M（**不包含M**）的子字符串，其中，N和M为字符串的索引序号，可以混合使用正向递增序号和反向递减序号。实例1.1`TempStr[0: -1]`表示字符串TempStr变量第0个字符到最后一个字符但不包含最后一个字符的子串。（左闭右开）

### 5 赋值语句

同步赋值语句，可以同时给多个变量赋值，基本格式如下：

```
<变量1>, ..., <变量N> = <表达式1>, ..., <表达式N>
```

但应尽量避免将多个无关的单一赋值语句组合成同步赋值语句

### 6 input()函数

input()函数从控制台获得用户输入，无论用户在控制台输入什么内容，input()函数都以字符串类型返回结果

获得用户输入之前，可以包含一些提示性文字，使用方法如下：

```
<变量> = input(<提示性文字>)
```

### 7 分支语句

使用方式如下：

```python
if <条件1>:
    <语句块1>
elif <条件2>: 
    <语句块2>
...
else:
	<语句块N>
```

实例1.1中分支语句的表达式又保留字`in`组成，表示判断字符串TempStr的最后一个字符（TempStr[-1]）是否在一个由'F'或'f'组成的集合中。

### 8 eval()函数

eval(<字符串>)函数能够以Python表达式的方式解析并执行字符串，并将返回结果输出

简单来说，其作用是将输入的字符串变成Python语句，并执行该语句，实例1.1使用eval()函数将用户的部分输入由字符串转换成数字。

使用eval()函数处理字符串时需要注意合理使用，例如，若直接输入字符串"hello"，eval()函数会去掉两个引号，将其解释为一个变量。当输入字符串"'hello'"时，eval()函数会去掉外部的两个双引号，'hello'被解释为字符串。

若用户希望输入一个数字，并用程序对这个数字进行计算，可以采用以下方式：

```
value = eval(input("请输入要计算是数值："))
```

另外，Python支持+、-、*、/ 和 **（幂）5种基本算术运算操作

### 9 print()函数

当输出纯字符信息时，可以直接将待输出的内容传递给print()函数；当输出变量值时，需要采用格式化输出方式时，通过format()方法将待输出变量整理成期望输出的格式。

具体来说，print()函数用槽格式和format()方法将变量和字符串结合到一起输出。如`{:2f}`，大括号{}表示一个槽位置，这个括号中的内容由字符串后面紧跟的format()方法中的参数填充，:.2f表示输出数值取两位小数。

## 基本数据类型

### 1 数字类型及其操作

Python提供三种数字类型：整数、浮点数与复数

#### 整数类型

4种进制表示

| 进制种类 | 引导符号 | 描述           |
| -------- | -------- | -------------- |
| 十进制   | 无       | 默认情况       |
| 二进制   | 0b 或 0B | 0b101 或 0B101 |
| 八进制   | 0o 或 0O | 0o711 或 0O711 |
| 十六进制 | 0x 或 0X | 0xABC 或 0XABC |

#### 浮点数类型

Python要求所有浮点数必须带有小数部分，小数部分可以是0

两种标识方法：十进制表示与科学计数法表示

<a>e<b> = $a * 10^b$

需要注意的是：浮点数类型直接表示或科学计数法表示种的系数（<a>）最长可输出16个数字，浮点数运算结果中最长可输出17个数字，但计算机只能够提供15个数字的准确性

#### 复数类型

对于复数z，可以用z.real和z.imag分别获得它的实数部分和虚数部分

#### 内置的数值运算操作符

| 操作符 | 描述                               |
| ------ | ---------------------------------- |
| x + y  | 和                                 |
| x - y  | 差                                 |
| x * y  | 积                                 |
| x / y  | 商                                 |
| x // y | 整数商，即不大于x与y之商的最大整数 |
| x % y  | 取模                               |
| -x     | x的负值                            |
| +x     | x本身                              |
| x ** y | x的y次幂，即$x^y$                  |

操作符运算的结果可能改变数字类型，3种数字类型之间存在一种逐渐扩展的关系：整数 -> 浮点数 -> 复数，数字类型之间的相互运算所生成的结果的的类型的基本规则：

- 整数之间的运算，若数学意义上是小数，则结果为浮点数
- 整数之间的运算，若数学意义上是整数，则结果为整数
- 整数和浮点数混合运算，结果是浮点数
- 整数或浮点数与复数运算，结果是复数

#### 内置的数值运算函数

| 函数                       | 描述                           |
| -------------------------- | ------------------------------ |
| abs(x)                     | x的绝对值                      |
| divmod(x, y)               | 输出整数商与余数               |
| pow(x, y[, z])             | x的y次幂，可以选择对z取模      |
| round(x[, ndigits])        | 对x四舍五入，保留ndigits位小数 |
| max($x_1, x_2, ... , x_n$) | 返回最大值                     |
| min($x_1, x_2, ... , x_n$) | 返回最小值                     |

#### 内置的数字类型转换函数

| 函数              | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| int(x)            | 将x转换为整数，x可以是浮点数或字符串                         |
| float(x)          | 返回浮点数x或者字符串x所对应的整数类型                       |
| complex(re[, im]) | 生成一个复数，实部为re，虚部为im，re可以是整数、浮点数或字符串，im可以是整数或浮点数但不能为字符串 |

### 2 math库的使用

#### 引用

**方法一**：`import math`

对math库种函数采用math.<b>()形式，如

```python
import math
math.ceil(10.2)
```

**方法二**：`from math import <函数名>`

如

```python
from math import floor
floor(10.2)
```

#### math库数学常数

| 常数     | 数学表示 | 描述              |
| -------- | -------- | ----------------- |
| math.pi  | \pi      | 圆周率            |
| math.e   | e        | 自然对数          |
| math.inf | \infty   | 正无穷大          |
| math.nan |          | 非浮点数标记，NaN |

#### math库的数值表示函数

| 函数                 | 数学表示 | 描述·                                        |
| -------------------- | -------- | -------------------------------------------- |
| math.fabs(x)         | \|x\|    | 返回x的绝对值                                |
| math.fsum([x,y,...]) | x+y+...  | 浮点数精确求和                               |
| math.factorial(x)    | x!       | 返回x的阶乘，若x是小数或负数，返回ValueError |
| math.gcd(a,b)        |          | 返回a和b的最大公约数                         |

#### math库的幂对数函数

| 函数                | 数学表示        | 描述                              |
| ------------------- | --------------- | --------------------------------- |
| math.pow(x,y)       | $x^y$           | 返回x的y次幂                      |
| math.exp(x)         | $e^x$           | 返回e的x次幂                      |
| math.sqrt(x)        | $\sqrt{x}$      | 返回x的平方根                     |
| math.log(x,[,base]) | $\log_{base} x$ | 返回x的对数值，只输入x时，返回lnx |

### 3 字符串类型及其操作

#### 字符串类型的表示

​	字符串是字符的序列表示，可以由一对单引号、双引号或三引号给构成。其中，单引号和双引号都可以表示单行字符串，两者作用相同。使用单引号时，双引号可以作为字符串的一部分；使用双引号时，单引号可以作为字符串的一部分。三引号可以表示单行或多行字符串

​	字符串以Unicode编码存储，因此，字符串的英文字符和中文字符都算作1个字符，如下：

```python
name = "Python语言程序设计"
print("name[0]: {}".format(name[0]))
print("name[0]: {}, name[7]: {},name[-1]: {}".format(name[0], name[7], name[-1]))
print("name[2:-4]: {}".format(name[2:-4]))
print("name[:6]: {}".format(name[:6]))
print("name[6:]: {}".format(name[6:]))
print("name[:]: {}".format(name[:]))
```

​		输出结果：

```python
name[0]: P
name[0]: P, name[7]: 言,name[-1]: 计
name[2:-4]: thon语言
name[:6]: Python
name[6:]: 语言程序设计
name[:]: Python语言程序设计
```

​	反斜杠字符（\）是一个特殊字符，在字符串中表示转义，即该字符与后面相邻的一个字符共同组成了新的含义，例如：

```python
print("Python\n语言\t程序\t设计")
```

​	输出结果：

```python
Python
语言    程序    设计
```

#### 基本的字符串操作符

| 操作符         | 描述                                      |
| -------------- | ----------------------------------------- |
| x+y            | 连接两个字符串x与y                        |
| x * n 或 n * x | 复制n次字符串x                            |
| x in s         | 如果x是s的子串，返回True，否则返回False   |
| str[i]         | 索引，返回第i个字符                       |
| str[N: M]      | 切片，返回索引第N到第M的子串，其中不包含M |

#### 内置的字符串处理函数

| 函数   | 描述                                                |
| ------ | --------------------------------------------------- |
| len(x) | 返回字符串x的长度，也可返回其他组合数据类型元素个数 |
| str(x) | 返回任意类型x所对应的字符串形式                     |
| chr(x) | 返回Unicode编码x对应的单字符                        |
| ord(x) | 返回单字符表示的Unicode编码                         |
| hex(x) | 返回整数x对应十六进制的小写形式字符串               |
| oct(x) | 返回整数x对应八进制数的小写形式字符串               |

#### 内置的字符串处理方法

| 方法                                 | 描述                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| str.lower()                          | 返回字符串str的副本，全部字符小写                            |
| str.upper()                          | 返回字符串str的副本，全部字符大写                            |
| str.islower()                        | 当str所有字符都是小写时，返回True，否则返回False             |
| str.isnumeric()                      | 当str所有字符都是数字时，返回True，否则返回False             |
| str.endswith(suffix[,start[,end]])   | str[start: end]以suffix结尾返回True，否则返回False           |
| str.startswith(prefix[,start[,end]]) | str[start: end]以prefix开始返回True，否则返回False           |
| str.split(sep = None, maxsplit = -1) | 返回一个列表，由str根据sep被分隔的部分构成，maxsplit为最大分割次数 |
| str.count(sub[,start[,end]])         | 返回str[start: end]中sub子串出现的次数                       |
| str.replace(old,new[,count])         | 返回字符串str的副本，所有old子串被替换为new，如果count给出，则前count次old出现被替换 |
| str.center(width[,fillchar])         | 返回长度为width的字符串，其中，str处于新字符串中心位置，两侧新增字符采用fillchar填充，当width小于字符串长度时，返回str |
| str.strip([chars])                   | 返回字符串str的副本，在其左侧和右侧去掉chars中列出的字符     |
| str.zfill(width)                     | 返回字符串str的副本，长度为width，不足部分在左侧添0，但如果str最左侧是“+”或者“-”，则从第二个字符左侧添加“0”，当width小于字符串长度时，返回str |
